export const FIBONACCI=[1,2,3,5,8,13,21,34,55,89,144,233,377];export function getFibIndex(e){const t=FIBONACCI.indexOf(e);return-1===t?1:t}export function getFibValue(e){return e<0?FIBONACCI[0]:e>=FIBONACCI.length?FIBONACCI[FIBONACCI.length-1]:FIBONACCI[e]}export function getShorterInterval(e){return getFibValue(getFibIndex(e)-1)}export function getLongerInterval(e){return getFibValue(getFibIndex(e)+1)}export function parseLocalDate(e){if(e instanceof Date)return e;const[t,r,n]=e.split("-").map(Number);return new Date(t,r-1,n)}export const INTERVAL_UNITS=["hours","days","weeks","months","years"];export function addInterval(e,t,r="days"){const n=e instanceof Date?new Date(e):parseLocalDate(e);switch(r){case"hours":n.setHours(n.getHours()+t);break;case"days":default:n.setDate(n.getDate()+t);break;case"weeks":n.setDate(n.getDate()+7*t);break;case"months":n.setMonth(n.getMonth()+t);break;case"years":n.setFullYear(n.getFullYear()+t)}return n}export function formatIntervalWithUnit(e,t="days"){const r=t.endsWith("s")?t.slice(0,-1):t;return 1===e?`${e} ${r}`:`${e} ${t}`}export function daysBetween(e,t){const r=parseLocalDate(e),n=parseLocalDate(t)-r;return Math.floor(n/864e5)}export function formatDate(e){const t=e instanceof Date?e:parseLocalDate(e);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`}export const THEMES=["light","dark","ocean","forest","rose","ember"];export function getStoredTheme(){return localStorage.getItem("fireminder-theme")||"light"}export function applyTheme(e){document.documentElement.setAttribute("data-theme",e),localStorage.setItem("fireminder-theme",e)}export function formatHistoryDate(e){if(!e)return"";return parseLocalDate(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}export function formatDueDate(e,t){if(!e)return"Not scheduled";const r=daysBetween(t,e);return r<0?`${Math.abs(r)} days overdue`:0===r?"Due today":1===r?"Due tomorrow":`in ${r} days`}